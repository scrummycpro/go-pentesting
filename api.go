func main() {
	port := flag.Int("port", 8080, "Port number for the tracker server")
	flag.Parse()

	tracker := NewTracker()

	// Load URLs from a file
	urls, err := loadURLsFromFile("urls.txt")
	if err != nil {
		fmt.Println("Error loading URLs:", err)
		return
	}

	for _, url := range urls {
		http.HandleFunc(url, func(w http.ResponseWriter, r *http.Request) {
			http.ServeFile(w, r, url[1:]) // Remove leading '/' from URL
			tracker.trackURL(url)
			fmt.Fprintf(w, "Click tracked for URL: %s\n", url)
		})
	}

	fmt.Printf("Tracker server running on port %d\n", *port)
	http.ListenAndServe(fmt.Sprintf(":%d", *port), nil)
}
